var ColorSwitcher=function(){var o=this;return o.baliseLink=$('link[href*="app-blue"]'),o.switcher=null,o.currentColor="blue",o.isSized=1==$("#isSized").val(),o.colors=["blue","red","yellow","green","pink","white"],o.css={"#switcher":"position: fixed; top: 150px; right: -111px; z-index: 1000;",".switcher-container":"position: relative; width: 148px; height: 50px;",".color-selected":"width: 35px; padding: 10px 0 0 10px; position: absolute; z-index: 12; top: 5px; left: 5px; background-color: #eee; border: dashed 1px #999; border-right: none; border-top-left-radius: 4px; border-bottom-left-radius: 4px;",".colors":"width: 111px; padding: 10px 0 0 10px; position: absolute; top: 5px; left: 39px; background-color: #eee; border: dashed 1px #999; border-right: none; z-index: 11; border-bottom-left-radius: 4px;",".color-":"width: 20px; height: 20px; border: solid 1px #ccc; float: left; margin-right: 10px; margin-bottom: 10px; border-radius: 4px; cursor: pointer;",".color-class":{blue:"background-color: #2196F3;",red:"background-color: #F44336;",yellow:"background-color: #FFEB3B;",green:"background-color: #4CAF50;",pink:"background-color: #9C27B0;",white:"background-color: #ffffff;"},a:"color: #555"},o.init=function(){var r="";for(color in o.colors)o.colors[color]!=o.currentColor&&(r+='<div style="'+o.css[".color-"]+o.css[".color-class"][o.colors[color]]+'" class="color color-'+o.colors[color]+'" data-color="'+o.colors[color]+'"></div>');return o.switcher=$("<div>").attr("id","switcher").attr("style",o.css["#switcher"]).html('<div style="'+o.css[".switcher-container"]+'"><div class="color-selected" style="'+o.css[".color-selected"]+'"><div class="color color-'+o.currentColor+'" data-color="'+o.currentColor+'" style="'+o.css[".color-"]+o.css[".color-class"][o.currentColor]+'"></div></div><div class="colors" style="'+o.css[".colors"]+'"><div class="color-container">'+r+'</div><div class="clearfix"></div><div class="margin-top-10 text-center"><a href="?fixedWidth='+(o.isSized?"0":"1")+'" style="'+o.css["&"]+'">'+(o.isSized?'See "fullsize" version':'See "fixed&nbsp;width" version')+"</a></div></div></div>").hover(function(){o.switcher.animate({right:0},250)},function(){o.switcher.animate({right:"-111px"},250)}),o.switcher.find(".color").on("click",function(){var r=$(this).data("color");o.currentColor!=r&&(o.baliseLink.attr("href",o.baliseLink.attr("href").replace("app-"+o.currentColor,"app-"+r)),o.currentColor=r,o.switcher.find(".color-selected .color").appendTo(o.switcher.find(".colors .color-container")),$(this).appendTo(o.switcher.find(".color-selected")),o.save())}),$("body").append(o.switcher),o},o.save=function(){return localStorage&&localStorage.setItem("color",o.currentColor),o},o.load=function(){if(localStorage){var r=localStorage.getItem("color");o.switcher.find(".color-"+r).trigger("click")}return o},o.init().load()};